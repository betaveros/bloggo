{"version":3,"file":"bundle.js","sources":["../../index.js"],"sourcesContent":["// Selected DOM elements\nconst menuToggle = document.querySelector('.menu-toggle');\nconst menuIcon = document.querySelector('.icon-menu');\nconst siteMenu = document.querySelector('.site-menu');\nconst socialMenu = document.querySelector('.social-menu');\n\n// Site and social menu toggle\nif (menuToggle) {\n  menuToggle.addEventListener('click', () => {\n    siteMenu.classList.toggle('collapsed');\n    socialMenu.classList.toggle('collapsed');\n    menuIcon.classList.toggle('icon-menu');\n    menuIcon.classList.toggle('icon-close');\n  });\n}\n\nconst unhiders = document.querySelectorAll('.unhide');\nfor (let i = 0; i < unhiders.length; i += 1) {\n  const elt = unhiders[i];\n  elt.addEventListener('click', () => {\n    const target = document.getElementById(elt.dataset.unhide);\n    if (target.classList.contains('hidden')) {\n      target.classList.remove('hidden');\n      elt.dataset.reshow = elt.innerText;\n      elt.innerText = elt.dataset.rehide;\n    } else {\n      target.classList.add('hidden');\n      elt.innerText = elt.dataset.reshow;\n    }\n  });\n}\n\n// This is NOT secure cryptographic code. For this specifically, my threat\n// model does not include side-channel attacks through timing or caches or\n// whatever. It does include people getting mad at me for bloated web pages.\n// Also it's kind of pretty just to see how many ideas are shared between\n// modern primitives and how simple everything is theoretically. This is sort\n// of \"semantically golfed\".\n\n// Most bitwise operators return signed integers by cutting off higher bits.\n// This is actually fine. We pretend we're playing with Java ints.\nfunction readInt32LE(arr, off) {\n  let acc = 0;\n  for (let i = off + 3; i >= off; i--) {\n    acc = (acc << 8) | arr[i];\n  }\n  return acc;\n}\n// Blithely ignores bytes that don't fit\nfunction writeInt32LE(buf, num, off) {\n  for (let i = off; i < Math.min(buf.length, off + 4); i++) {\n    buf[i] = num & 0xff;\n    num >>>= 8;\n  }\n}\nfunction rotate(v, n) {\n  return (v << n) | (v >>> (32 - n));\n}\n\nfunction encode(s) {\n  return new TextEncoder().encode(s);\n}\nfunction decode(s) {\n  return new TextDecoder().decode(s.buffer);\n}\n\nfunction quarter(t, ai, bi, ci, di) {\n  let [a, b, c, d] = [t[ai], t[bi], t[ci], t[di]];\n  a = (a + b) | 0; d = rotate(d ^ a, 16);\n  c = (c + d) | 0; b = rotate(b ^ c, 12);\n  a = (a + b) | 0; d = rotate(d ^ a, 8);\n  c = (c + d) | 0; b = rotate(b ^ c, 7);\n  [t[ai], t[bi], t[ci], t[di]] = [a, b, c, d];\n}\n\nfunction mutateChaCha20(message, nonce /* 12 bytes */, key /* 16 bytes */, counter = 0) {\n  let state = new Uint8Array(64);\n  state.set(encode(\"expand 32-byte k\"));\n  state.set(key, 16);\n  writeInt32LE(state, counter, 48);\n  state.set(nonce, 52);\n\n  let s = new Int32Array(16).map((_, i) => readInt32LE(state, 4*i));\n\n  for (let start = 0; start < message.length; start += 64) {\n    let end = Math.min(start + 64, message.length);\n    let t = s.slice();\n\n    for (let i = 0; i < 10; i++) {\n      quarter(t, 0, 4,  8, 12);\n      quarter(t, 1, 5,  9, 13);\n      quarter(t, 2, 6, 10, 14);\n      quarter(t, 3, 7, 11, 15);\n\n      quarter(t, 0, 5, 10, 15);\n      quarter(t, 1, 6, 11, 12);\n      quarter(t, 2, 7,  8, 13);\n      quarter(t, 3, 4,  9, 14);\n    }\n    t.forEach((e, i) => writeInt32LE(message, (e + s[i]) ^ readInt32LE(message, start + 4*i), start + 4*i));\n    s[12]++;\n  }\n  return message;\n}\n\nconst BLAKE2S_IV = Int32Array.of(\n  0x6a09e667,\n  0xbb67ae85,\n  0x3c6ef372,\n  0xa54ff53a,\n  0x510e527f,\n  0x9b05688c,\n  0x1f83d9ab,\n  0x5be0cd19,\n);\n\nfunction mix(v, ai, bi, ci, di, x, y) {\n  let [a, b, c, d] = [v[ai], v[bi], v[ci], v[di]];\n  // blake2 rotates in the opposite direction from chacha20...?\n  a = (a + b + x) | 0; d = rotate(d ^ a, 16);\n  c = (c + d    ) | 0; b = rotate(b ^ c, 20);\n  a = (a + b + y) | 0; d = rotate(d ^ a, 24);\n  c = (c + d    ) | 0; b = rotate(b ^ c, 25);\n  [v[ai], v[bi], v[ci], v[di]] = [a, b, c, d];\n}\nconst gamma = [\n  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\n  [14, 10, 4, 8, 9, 15, 13, 6, 1, 12, 0, 2, 11, 7, 5, 3],\n  [11, 8, 12, 0, 5, 2, 15, 13, 10, 14, 3, 6, 7, 1, 9, 4],\n  [7, 9, 3, 1, 13, 12, 11, 14, 2, 6, 5, 10, 4, 0, 15, 8],\n  [9, 0, 5, 7, 2, 4, 10, 15, 14, 1, 11, 12, 6, 8, 3, 13],\n  [2, 12, 6, 10, 0, 11, 8, 3, 4, 13, 7, 5, 15, 14, 1, 9],\n  [12, 5, 1, 15, 14, 13, 4, 10, 0, 7, 6, 3, 9, 2, 8, 11],\n  [13, 11, 7, 14, 12, 1, 3, 9, 5, 0, 15, 4, 8, 6, 2, 10],\n  [6, 15, 14, 9, 11, 3, 0, 8, 12, 2, 13, 7, 1, 4, 10, 5],\n  [10, 2, 8, 4, 7, 6, 1, 5, 15, 11, 9, 14, 3, 12, 13, 0],\n];\nfunction blake2s(input, key /* length in [0,32] */, salt_pers = null /* {0,4,8,12,16} */) {\n  const outlen = 32; // hard-coded\n  const keylen = key ? key.length : 0;\n  let hash = BLAKE2S_IV.slice();\n  hash[0] ^= 0x01010000 ^ (keylen << 8) ^ outlen;\n  if (salt_pers) {\n    for (let i = 0; 4*i < salt_pers.length; i++) {\n      hash[4 + i] ^= readInt32LE(salt_pers, 4*i);\n    }\n  }\n  const block = new Uint8Array(64);\n  let blockPtr = 0;\n  let offset = 0;\n\n  function compress(isLastBlock = false) {\n    const v = new Int32Array(16);\n    v.set(hash);\n    v.set(BLAKE2S_IV, 8);\n    v[12] ^= offset;\n    v[13] ^= offset / 0x100000000;\n    if (isLastBlock) { v[14] = ~v[14]; }\n\n    const m = new Int32Array(16).map((_, i) => readInt32LE(block, 4 * i));\n    gamma.forEach(round => {\n      mix(v, 0, 4,  8, 12, m[round[ 0]], m[round[ 1]]);\n      mix(v, 1, 5,  9, 13, m[round[ 2]], m[round[ 3]]);\n      mix(v, 2, 6, 10, 14, m[round[ 4]], m[round[ 5]]);\n      mix(v, 3, 7, 11, 15, m[round[ 6]], m[round[ 7]]);\n      mix(v, 0, 5, 10, 15, m[round[ 8]], m[round[ 9]]);\n      mix(v, 1, 6, 11, 12, m[round[10]], m[round[11]]);\n      mix(v, 2, 7,  8, 13, m[round[12]], m[round[13]]);\n      mix(v, 3, 4,  9, 14, m[round[14]], m[round[15]]);\n    });\n\n    hash = hash.map((e, i) => e ^ v[i] ^ v[i + 8]);\n  }\n\n  function update(input) {\n    input.forEach(e => {\n      if (blockPtr === 64) {\n        offset += blockPtr;\n        compress();\n        blockPtr = 0;\n      }\n      block[blockPtr++] = e;\n    });\n  }\n\n  if (keylen > 0) {\n    update(key);\n    blockPtr = 64;\n  }\n  update(input);\n\n  // finalize\n  offset += blockPtr;\n  while (blockPtr < 64) { block[blockPtr++] = 0; }\n  compress(true /* isLastBlock */);\n\n  let out = new Uint8Array(outlen);\n  hash.forEach((e, i) => writeInt32LE(out, e, 4*i));\n  return out;\n}\n\nfunction b64encode(uarr) {\n  const carr = [];\n  uarr.forEach(function(u8) {\n    carr.push(String.fromCharCode(u8));\n  });\n  return btoa(carr.join(\"\"));\n}\nfunction b64decode(s) {\n  const bs = atob(s);\n  const uarr = new Uint8Array(bs.length);\n  for (let i = 0; i < bs.length; i++) {\n    uarr[i] = bs.charCodeAt(i);\n  }\n  return uarr;\n}\nfunction generateNonce() {\n  let ret = new Uint8Array(12);\n  window.crypto.getRandomValues(ret);\n  return ret;\n}\n// Not constant-time!\nfunction arrayEquals(a, b) {\n  return a.length === b.length && a.every((e, i) => e === b[i]);\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  let hash = window.location.hash;\n  if (hash.startsWith('#decrypt:')) {\n    let userKey = encode(hash.substring(9));\n    let context = encode('betaverosChacha20Blake2sInsecure');\n    let cs = document.getElementsByClassName('betacipher');\n    for (let i = 0; i < cs.length; i++) {\n      const obj = cs[i];\n      const nonce = b64decode(obj.dataset.nonce);\n      const ciphertext = b64decode(obj.dataset.ct);\n      const key = blake2s(userKey, context);\n      const mac = blake2s(ciphertext, key, nonce);\n      if (arrayEquals(b64decode(obj.dataset.mac), mac)) {\n        obj.innerHTML = decode(mutateChaCha20(ciphertext, nonce, key));\n      }\n    }\n  }\n\n  function addLink(tag) {\n    const link = document.createElement('a');\n    link.setAttribute('href', '#' + tag.id);\n    link.classList.add('id-link');\n    link.textContent = '#';\n    tag.insertBefore(link, tag.firstChild);\n  }\n  console.log('wow');\n\n  Array.from(document.querySelectorAll(\"article > h3[id]\")).forEach(addLink);\n  Array.from(document.querySelectorAll(\"article > h4[id]\")).forEach(addLink);\n  Array.from(document.querySelectorAll(\"article > h5[id]\")).forEach(addLink);\n});\n"],"names":[],"mappings":"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AAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;EACtD,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;EACtD,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;EACtD,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;EACtD,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;EACtD,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;CACvD,CAAC;AACF,SAAS,OAAO,CAAC,KAAK,EAAE,GAAG,yBAAyB,SAAS,GAAG,IAAI,sBAAsB;EACxF,MAAM,MAAM,GAAG,EAAE,CAAC;EAClB,MAAM,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC;EACpC,IAAI,IAAI,GAAG,UAAU,CAAC,KAAK,EAAE,CAAC;EAC9B,IAAI,CAAC,CAAC,CAAC,IAAI,UAAU,IAAI,MAAM,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC;EAC/C,IAAI,SAAS,EAAE;IACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;MAC3C,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,WAAW,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;KAC5C;GACF;EACD,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,EAAE,CAAC,CAAC;EACjC,IAAI,QAAQ,GAAG,CAAC,CAAC;EACjB,IAAI,MAAM,GAAG,CAAC,CAAC;;EAEf,SAAS,QAAQ,CAAC,WAAW,GAAG,KAAK,EAAE;IACrC,MAAM,CAAC,GAAG,IAAI,UAAU,CAAC,EAAE,CAAC,CAAC;IAC7B,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IACZ,CAAC,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;IACrB,CAAC,CAAC,EAAE,CAAC,IAAI,MAAM,CAAC;IAChB,CAAC,CAAC,EAAE,CAAC,IAAI,MAAM,GAAG,WAAW,CAAC;IAC9B,IAAI,WAAW,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;;IAEpC,MAAM,CAAC,GAAG,IAAI,UAAU,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,WAAW,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACtE,KAAK,CAAC,OAAO,CAAC,KAAK,IAAI;MACrB,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACjD,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACjD,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACjD,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACjD,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACjD,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACjD,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACjD,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAA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"}